<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>v-directive</title>
	<script type="text/javascript" src="../assets/js/vue.js"></script>
</head>
<body>
	<div id="app">
		<div v-liu="color">
			{{num}}
		</div>
		<p>
			<button @click="jia">加</button>
		</p>
	</div>
	<button onclick="xiezai()">解绑</button>
</body>
<script type="text/javascript">
	Vue.directive("liu",{
		bind:function(el,binding,vnode){
			console.log("bind");
			// var s = JSON.stringify;
			// el.innerHTML = 
			// "name:" + s(binding.name) + "<br>" +
			// "value:" + s(binding.value) + "<br>" +
			// "expression:" + s(binding.expression) +"<br>" +
			// "argument:" + s(binding.arg) + "<br>"  +
			// "modifiers:" + s(binding.modifiers) + "<br>" +
			// "vnode.keys:" + Object.keys(vnode).join(",");
			// el.style ="color:"+binding.value

		},
		inserted:function(){
			console.log("inserted");
		},
		update:function(el,binding,vnode){
			console.log("updata");
			el.style ="color:"+binding.value
		},
		componentUpdated:function(){
			console.log("componentUpdated")
		},
		unbind:function(){
			console.log("unbind")
		}
	});
	var vm = new Vue({
		el:"#app",
		data:{
			color:"red",
			num:100
		},
		methods:{
			jia:function(){
				this.num++
			}
		}
	});
	function xiezai(){
		vm.$destroy();
	}
</script>
</html>